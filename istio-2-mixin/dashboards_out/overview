{
      "links": [
         {
            "keepTime": true,
            "title": "Istio logs",
            "type": "link",
            "url": "/d/istio-logs"
         },
         {
            "keepTime": true,
            "title": "Istio services overview",
            "type": "link",
            "url": "/d/istio-services-overview"
         },
         {
            "keepTime": true,
            "title": "Istio workloads overview",
            "type": "link",
            "url": "/d/istio-workloads-overview"
         }
      ],
      "panels": [
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of proxies in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "super-light-red",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 0,
               "y": 0
            },
            "id": 1,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "count by(job, cluster) (istio_build{job=~\"$job\",cluster=~\"$cluster\", component=\"proxy\"})"
               }
            ],
            "title": "Proxies",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of gateways in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "text",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 4,
               "y": 0
            },
            "id": 2,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"Gateway\", event=\"add\"}) - (max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"Gateway\", event=\"delete\"}) or max(up * 0))"
               }
            ],
            "title": "Gateways",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of virtual services in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "text",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 8,
               "y": 0
            },
            "id": 3,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"VirtualService\", event=\"add\"}) - (max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"VirtualService\", event=\"delete\"}) or (max(up) * 0))"
               }
            ],
            "title": "Virtual services",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "datasource",
               "uid": "-- Mixed --"
            },
            "gridPos": {
               "h": 8,
               "w": 12,
               "x": 12,
               "y": 0
            },
            "id": 4,
            "options": {
               "alertInstanceLabelFilter": "job=~\"${job:regex}\",cluster=~\"${cluster:regex}\""
            },
            "pluginVersion": "v10.0.0",
            "title": "Istio alerts",
            "type": "alertlist"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of destination rules in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "super-light-orange",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 0,
               "y": 4
            },
            "id": 5,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"DestinationRule\", event=\"add\"}) - (max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"DestinationRule\", event=\"delete\"}) or (max(up) * 0))"
               }
            ],
            "title": "Destination rules",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of service entries in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "text",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 4,
               "y": 4
            },
            "id": 6,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"ServiceEntry\", event=\"add\"}) - (max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"ServiceEntry\", event=\"delete\"}) or (max(up) * 0))"
               }
            ],
            "title": "Service entries",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of workload entries in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [
                        {
                           "color": "text",
                           "value": null
                        },
                        {
                           "color": "super-light-green",
                           "value": 1
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 4,
               "w": 4,
               "x": 8,
               "y": 4
            },
            "id": 7,
            "options": {
               "graphMode": "none"
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"WorkloadEntry\", event=\"add\"}) - (max(pilot_k8s_cfg_events{job=~\"$job\",cluster=~\"$cluster\", type=\"WorkloadEntry\", event=\"delete\"}) or (max(up) * 0))"
               }
            ],
            "title": "Workload entries",
            "type": "stat"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of open file descriptors for various components of the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never",
                     "stacking": {
                        "group": "A",
                        "mode": "normal"
                     }
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 12,
               "x": 12,
               "y": 4
            },
            "id": 8,
            "options": {
               "legend": {
                  "calcs": [ ],
                  "displayMode": "list",
                  "placement": "right"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (process_open_fds{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_open_fds{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_open_fds{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy"
               }
            ],
            "title": "Open file descriptors",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "vCPU usage for various components of the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never",
                     "stacking": {
                        "group": "A",
                        "mode": "normal"
                     }
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  },
                  "unit": "percentunit"
               }
            },
            "gridPos": {
               "h": 6,
               "w": 12,
               "x": 0,
               "y": 10
            },
            "id": 9,
            "options": {
               "legend": {
                  "calcs": [ ],
                  "displayMode": "list",
                  "placement": "right"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by (job, cluster) (rate(process_cpu_seconds_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - istiod"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(istio_agent_process_cpu_seconds_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - gateway"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(istio_agent_process_cpu_seconds_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - proxy"
               }
            ],
            "title": "vCPU usage",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Heap memory information for the various components of the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never"
                  },
                  "min": 0,
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  },
                  "unit": "bytes"
               },
               "overrides": [
                  {
                     "matcher": {
                        "id": "byRegexp",
                        "options": ".*(T|t)otal.*"
                     },
                     "properties": [
                        {
                           "id": "color",
                           "value": {
                              "fixedColor": "#ffb357",
                              "mode": "fixed"
                           }
                        },
                        {
                           "id": "custom.fillOpacity",
                           "value": 0
                        },
                        {
                           "id": "custom.lineStyle",
                           "value": {
                              "dash": [
                                 10,
                                 10
                              ],
                              "fill": "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos": {
               "h": 6,
               "w": 12,
               "x": 12,
               "y": 10
            },
            "id": 10,
            "options": {
               "legend": {
                  "calcs": [
                     "min",
                     "max",
                     "mean"
                  ],
                  "displayMode": "table"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (go_memstats_heap_alloc_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod - alloc"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (go_memstats_heap_inuse_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod - inuse"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (go_memstats_heap_sys_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod - sys"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_alloc_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway - alloc"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_inuse_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway - inuse"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_sys_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway - sys"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_alloc_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy - alloc"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_inuse_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy - inuse"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_go_memstats_heap_sys_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy - sys"
               }
            ],
            "title": "Heap memory",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Available virtual memory compared to the resident memory for the various components of the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "scaleDistribution": {
                        "log": 2,
                        "type": "log"
                     },
                     "showPoints": "never"
                  },
                  "min": 0,
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  },
                  "unit": "bytes"
               },
               "overrides": [
                  {
                     "matcher": {
                        "id": "byRegexp",
                        "options": ".*(T|t)otal.*"
                     },
                     "properties": [
                        {
                           "id": "color",
                           "value": {
                              "fixedColor": "#ffb357",
                              "mode": "fixed"
                           }
                        },
                        {
                           "id": "custom.fillOpacity",
                           "value": 0
                        },
                        {
                           "id": "custom.lineStyle",
                           "value": {
                              "dash": [
                                 10,
                                 10
                              ],
                              "fill": "dash"
                           }
                        }
                     ]
                  }
               ]
            },
            "gridPos": {
               "h": 6,
               "w": 12,
               "x": 0,
               "y": 16
            },
            "id": 11,
            "options": {
               "legend": {
                  "calcs": [ ],
                  "displayMode": "list",
                  "placement": "right"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (process_virtual_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod - virtual"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (process_resident_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})",
                  "legendFormat": "{{cluster}} - istiod - resident"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_virtual_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway - virtual"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_resident_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\"})",
                  "legendFormat": "{{cluster}} - gateway - resident"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_virtual_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy - virtual"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (istio_agent_process_resident_memory_bytes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\"})",
                  "legendFormat": "{{cluster}} - proxy - resident"
               }
            ],
            "title": "Virtual & resident memory",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "HTTP/GRPC request rate for the components of the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never",
                     "stacking": {
                        "group": "A",
                        "mode": "normal"
                     }
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  },
                  "unit": "reqps"
               }
            },
            "gridPos": {
               "h": 6,
               "w": 16,
               "x": 0,
               "y": 22
            },
            "id": 12,
            "options": {
               "legend": {
                  "calcs": [ ],
                  "displayMode": "list",
                  "placement": "right"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\", reporter=\"source\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - gateway"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\", reporter=\"source\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - proxy"
               }
            ],
            "title": "HTTP/GRPC requests",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Recent number of successful (1xx, 2xx, 3xx) vs error (4xx, 5xx) HTTP responses received by various components of the Istio system.",
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 16,
               "y": 22
            },
            "id": 13,
            "options": {
               "legend": {
                  "placement": "right"
               },
               "reduceOptions": {
                  "calcs": [
                     "sum"
                  ]
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\", reporter=\"source\", request_protocol=\"http\", response_code=~\"[123].+\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - gateway - ok"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$gateway\", reporter=\"source\", request_protocol=\"http\", response_code=~\"[45].+\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - gateway - error"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\", reporter=\"source\", request_protocol=\"http\", response_code=~\"[123].+\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - proxy - ok"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (istio_requests_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$proxy\", reporter=\"source\", request_protocol=\"http\", response_code=~\"[45].+\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - proxy - error"
               }
            ],
            "title": "HTTP response overview",
            "type": "piechart"
         },
         {
            "collapsed": false,
            "gridPos": {
               "h": 1,
               "w": 0,
               "x": 24,
               "y": 30
            },
            "id": 14,
            "title": "Control plane",
            "type": "row"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of xDS pushes by Istiod over the entire time range for the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "thresholds": {
                     "steps": [
                        {
                           "color": "super-light-green"
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 0,
               "y": 31
            },
            "id": 15,
            "options": {
               "orientation": "horizontal",
               "reduceOptions": {
                  "calcs": [
                     "sum"
                  ]
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"cds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - CDS"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"eds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - EDS"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"lds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - LDS"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"rds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - RDS"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"sds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - SDS"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_pushes{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\", type=\"nds\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - NDS"
               }
            ],
            "title": "xDS pushes",
            "type": "bargauge"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "The latency of xDS pushes by Istiod over the entire time range for the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "mode": "thresholds"
                  },
                  "thresholds": {
                     "steps": [
                        {
                           "color": "super-light-green"
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 8,
               "y": 31
            },
            "id": 16,
            "options": {
               "legend": {
                  "placement": "right"
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(le, job, cluster) (increase(pilot_proxy_convergence_time_bucket{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"}[$__range:]))",
                  "format": "heatmap",
                  "instant": true,
                  "interval": "1m",
                  "legendFormat": "{{cluster}}"
               }
            ],
            "title": "xDS push delay (s)",
            "type": "histogram"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of galley validations over the entire time range for the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "thresholds": {
                     "steps": [
                        {
                           "color": "super-light-green"
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 16,
               "y": 31
            },
            "id": 17,
            "options": {
               "orientation": "horizontal",
               "reduceOptions": {
                  "calcs": [
                     "sum"
                  ]
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (galley_validation_passed{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - passed"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by(job, cluster) (galley_validation_failed{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - failed"
               }
            ],
            "title": "Galley validations",
            "type": "bargauge"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "The send and receive data rates from all envoy proxies in the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  },
                  "unit": "Bps"
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 0,
               "y": 37
            },
            "id": 18,
            "options": {
               "legend": {
                  "calcs": [ ],
                  "displayMode": "list",
                  "placement": "right"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(envoy_cluster_upstream_cx_rx_bytes_total{job=~\"$job\",cluster=~\"$cluster\", cluster_name=\"xds-grpc\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - sent"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster) (rate(envoy_cluster_upstream_cx_tx_bytes_total{job=~\"$job\",cluster=~\"$cluster\", cluster_name=\"xds-grpc\"}[$__rate_interval]))",
                  "legendFormat": "{{cluster}} - received"
               }
            ],
            "title": "xDS envoy throughput",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "The xDS related errors across the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "color": {
                     "fixedColor": "#5794f2",
                     "mode": "palette-classic"
                  },
                  "custom": {
                     "fillOpacity": 30,
                     "gradientMode": "opacity",
                     "lineInterpolation": "smooth",
                     "lineWidth": 2,
                     "showPoints": "never"
                  },
                  "thresholds": {
                     "mode": "absolute",
                     "steps": [ ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 8,
               "y": 37
            },
            "id": 19,
            "options": {
               "legend": {
                  "calcs": [
                     "min",
                     "max",
                     "mean"
                  ],
                  "displayMode": "table"
               },
               "tooltip": {
                  "mode": "multi",
                  "sort": "desc"
               }
            },
            "pluginVersion": "v11.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_cds_reject{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - CDS reject"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_eds_reject{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - EDS reject"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_rds_reject{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - RDS reject"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_lds_reject{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - LDS reject"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_xds_write_timeout{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - write timeout"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_total_xds_internal_errors{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - internal"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_total_xds_rejects{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - proxy rejects"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_conflict_inbound_listener{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - in listener conflict"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (pilot_conflict_outbound_listener_tcp_over_current_tcp{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - out listener tcp conflict"
               }
            ],
            "title": "xDS errors / $__interval",
            "type": "timeseries"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Number of sidecar injections over the entire time range for the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "thresholds": {
                     "steps": [
                        {
                           "color": "super-light-green"
                        }
                     ]
                  }
               }
            },
            "gridPos": {
               "h": 6,
               "w": 8,
               "x": 16,
               "y": 37
            },
            "id": 20,
            "options": {
               "orientation": "horizontal",
               "reduceOptions": {
                  "calcs": [
                     "sum"
                  ]
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (sidecar_injection_success_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - success"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "increase(sum by (job, cluster) (sidecar_injection_failure_total{job=~\"$job\",cluster=~\"$cluster\",pod=~\"$istiod\"})[$__interval:])",
                  "interval": "1m",
                  "legendFormat": "{{cluster}} - failure"
               }
            ],
            "title": "Sidecar injections",
            "type": "bargauge"
         },
         {
            "collapsed": false,
            "gridPos": {
               "h": 1,
               "w": 0,
               "x": 24,
               "y": 43
            },
            "id": 21,
            "title": "Services",
            "type": "row"
         },
         {
            "datasource": {
               "type": "prometheus",
               "uid": "${datasource}"
            },
            "description": "Service details for the Istio system.",
            "fieldConfig": {
               "defaults": {
                  "noValue": "NA"
               },
               "overrides": [
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "job"
                     },
                     "properties": [
                        {
                           "id": "custom.hidden",
                           "value": "true"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "Service"
                     },
                     "properties": [
                        {
                           "id": "links",
                           "value": [
                              {
                                 "title": "",
                                 "url": "d/istio-services-overview?var-datasource=${datasource}&var-job=${__data.fields[\"Job\"]}&var-cluster=${__data.fields[\"Cluster\"]}&var-service=${__value.raw}&${__url_time_range}"
                              }
                           ]
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP/GRPC tx delay"
                     },
                     "properties": [
                        {
                           "id": "custom.width",
                           "value": 157
                        },
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "ms"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP/GRPC rx delay"
                     },
                     "properties": [
                        {
                           "id": "custom.width",
                           "value": 157
                        },
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "ms"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP/GRPC tx"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "reqps"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP/GRPC rx"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "reqps"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP tx success"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "percent"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "HTTP rx success"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "percent"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "TCP tx"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "Bps"
                        }
                     ]
                  },
                  {
                     "matcher": {
                        "id": "byName",
                        "options": "TCP rx"
                     },
                     "properties": [
                        {
                           "id": "custom.align",
                           "value": "left"
                        },
                        {
                           "id": "unit",
                           "value": "Bps"
                        }
                     ]
                  }
               ]
            },
            "gridPos": {
               "h": 8,
               "w": 24,
               "x": 0,
               "y": 44
            },
            "id": 22,
            "options": {
               "footer": {
                  "options": {
                     "footer": {
                        "reducer": [
                           "sum"
                        ]
                     }
                  }
               }
            },
            "pluginVersion": "v10.0.0",
            "targets": [
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(rate(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\"}[$__rate_interval]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\"))",
                  "format": "table",
                  "instant": true
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(rate(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\"}[$__rate_interval]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\"))",
                  "format": "table",
                  "instant": true
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(increase(istio_request_duration_milliseconds_sum{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\"}[$__rate_interval:]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\"))\n/\nclamp_min(sum by(job, cluster, service) (label_replace(increase(istio_request_duration_milliseconds_count{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\"}[$__rate_interval:]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\")), 1)\n",
                  "format": "table",
                  "instant": true,
                  "interval": "1m"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(increase(istio_request_duration_milliseconds_sum{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\"}[$__rate_interval:]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\"))\n/\nclamp_min(sum by(job, cluster, service) (label_replace(increase(istio_request_duration_milliseconds_count{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\"}[$__rate_interval:]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\")), 1)\n",
                  "format": "table",
                  "instant": true,
                  "interval": "1m"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "100 * sum by(job, cluster, service) (label_replace(increase(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\", request_protocol=\"http\", response_code=~\"[123].+\"}[$__rate_interval:]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\"))\n/\nclamp_min(sum by(job, cluster, service) (label_replace(increase(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\", request_protocol=\"http\"}[$__rate_interval:]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\")), 1)\n",
                  "format": "table",
                  "instant": true,
                  "interval": "1m"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "100 * sum by(job, cluster, service) (label_replace(increase(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\", request_protocol=\"http\", response_code=~\"[123].+\"}[$__rate_interval:]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\"))\n/\nclamp_min(sum by(job, cluster, service) (label_replace(increase(istio_requests_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\", request_protocol=\"http\"}[$__rate_interval:]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\")), 1)\n",
                  "format": "table",
                  "instant": true,
                  "interval": "1m"
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(rate(istio_tcp_received_bytes_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"source\"}[$__rate_interval]), \"service\", \"$1\", \"source_canonical_service\", \"(.*)\"))",
                  "format": "table",
                  "instant": true
               },
               {
                  "datasource": {
                     "type": "prometheus",
                     "uid": "${datasource}"
                  },
                  "expr": "sum by(job, cluster, service) (label_replace(rate(istio_tcp_sent_bytes_total{job=~\"$job\",cluster=~\"$cluster\", reporter=\"destination\"}[$__rate_interval]), \"service\", \"$1\", \"destination_canonical_service\", \"(.*)\"))",
                  "format": "table",
                  "instant": true
               }
            ],
            "title": "Services",
            "transformations": [
               {
                  "id": "merge",
                  "options": { }
               },
               {
                  "id": "organize",
                  "options": {
                     "excludeByName": {
                        "Time": true
                     },
                     "includeByName": { },
                     "indexByName": {
                        "Time": 0,
                        "Value #A": 4,
                        "Value #B": 7,
                        "Value #C": 5,
                        "Value #D": 8,
                        "Value #E": 6,
                        "Value #F": 9,
                        "Value #G": 10,
                        "Value #H": 11,
                        "cluster": 1,
                        "job": 2,
                        "service": 3
                     },
                     "renameByName": {
                        "Value #A": "HTTP/GRPC tx",
                        "Value #B": "HTTP/GRPC rx",
                        "Value #C": "HTTP/GRPC tx delay",
                        "Value #D": "HTTP/GRPC rx delay",
                        "Value #E": "HTTP tx success",
                        "Value #F": "HTTP rx success",
                        "Value #G": "TCP tx",
                        "Value #H": "TCP rx",
                        "cluster": "Cluster",
                        "job": "Job",
                        "service": "Service"
                     }
                  }
               }
            ],
            "type": "table"
         }
      ],
      "refresh": "1m",
      "schemaVersion": 36,
      "tags": [
         "istio"
      ],
      "templating": {
         "list": [
            {
               "label": "Data source",
               "name": "datasource",
               "query": "prometheus",
               "regex": "",
               "type": "datasource"
            },
            {
               "allValue": ".+",
               "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
               },
               "includeAll": true,
               "label": "Job",
               "multi": true,
               "name": "job",
               "query": "label_values(istiod_uptime_seconds{}, job)",
               "refresh": 2,
               "sort": 1,
               "type": "query"
            },
            {
               "allValue": ".+",
               "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
               },
               "includeAll": true,
               "label": "K8s cluster",
               "multi": true,
               "name": "cluster",
               "query": "label_values(istiod_uptime_seconds{job=~\"$job\"}, cluster)",
               "refresh": 2,
               "sort": 1,
               "type": "query"
            },
            {
               "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
               },
               "includeAll": true,
               "label": "Istiod",
               "multi": true,
               "name": "istiod",
               "query": "label_values(pilot_info{job=~\"$job\", cluster=~\"$cluster\"}, pod)",
               "refresh": 2,
               "sort": 1,
               "type": "query"
            },
            {
               "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
               },
               "includeAll": true,
               "label": "Gateway",
               "multi": true,
               "name": "gateway",
               "query": "label_values(istio_agent_process_cpu_seconds_total{job=~\"$job\", cluster=~\"$cluster\", pod=~\"istio-egress.*|istio-ingress.*\"}, pod)",
               "refresh": 2,
               "sort": 1,
               "type": "query"
            },
            {
               "datasource": {
                  "type": "prometheus",
                  "uid": "${datasource}"
               },
               "includeAll": true,
               "label": "Proxy",
               "multi": true,
               "name": "proxy",
               "query": "label_values(istio_agent_process_cpu_seconds_total{job=~\"$job\", cluster=~\"$cluster\", pod!~\"istio-egress.*|istio-ingress.*\"}, pod)",
               "refresh": 2,
               "sort": 1,
               "type": "query"
            }
         ]
      },
      "time": {
         "from": "now-1h",
         "to": "now"
      },
      "timezone": "default",
      "title": "Istio overview",
      "uid": "istio-overview"
   }